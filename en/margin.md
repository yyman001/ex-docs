# Margin

## Trade

### Security Type: TRADE​

Endpoints under **Trade** require an API-key and a signature.​


| name                | Request type | Request url                                       | remasks                 |
| ------------------- | ------------ | ------------------------------------------------- | ----------------------- |
| Cancel Order        | post         | https://openapi.xxx.com/sapi/v1/margin/cancel     |                         |
| Current Open Orders | get          | https://openapi.xxx.com/sapi/v1/margin/openOrders |                         |
| New Order           | post         | https://openapi.xxx.com/sapi/v1/margin/order      | Rate Limit：100times/2s |
| Query Order         | get          | https://openapi.xxx.com/sapi/v1/margin/order      |                         |
| Trades              | get          | https://openapi.xxx.com/sapi/v1/margin/myTrades   |                         |

### New Order
**Demo:**
https://github.com/exchange2021/openapidemo/blob/master/src/main/java/com/margin/NewOrder.java

#### Parameters
***header***

| parameters name | data type | name         |
| --------------- | --------- | ------------ |
| X-CH-APIKEY     | string    | Your API-key |
| X-CH-SIGN       | string    | Sign         |
| X-CH-TS         | integer   | timestamp    |

***body***

| parameters name  | data type | name                                                    |
| ---------------- | --------- | ------------------------------------------------------- |
| newClientOrderId | string    | Unique order ID generated by users to mark their orders |
| price            | number    | Order price, REQUIRED for LIMIT orders                  |
| recvWindow       | string    | Time window                                             |
| side             | string    | Side of the order, BUY/SELL                             |
| symbol           | string    | Symbol Name. E.g. BTCUSDT                               |
| type             | string    | Type of the order, LIMIT/MARKET                         |
| volume           | number    | Order vol. For MARKET BUY orders, vol=amount.           |

##### responses
```json
{
    'symbol': 'LXTUSDT', 
    'orderId': '494736827050147840', 
    'clientOrderId': '157371322565051',
    'transactTime': '1573713225668', 
    'price': '0.005452', 
    'origQty': '110', 
    'executedQty': '0', 
    'status': 'NEW',
    'type': 'LIMIT', 
    'side': 'SELL'
}
```

###  Cancel Order
 **Demo:**
https://github.com/exchange2021/openapidemo/blob/master/src/main/java/com/margin/CancelOrder.java


#### Parameters
***header***

| parameters name | data type | name         |
| --------------- | --------- | ------------ |
| X-CH-APIKEY     | string    | Your API-key |
| X-CH-SIGN       | string    | Sign         |
| X-CH-TS         | integer   | timestamp    |

***body***

| parameters name  | data type | name                                                    |
| ---------------- | --------- | ------------------------------------------------------- |
| newClientOrderId | string    | Unique order ID generated by users to mark their orders |
| orderId          | string    | Order ID                                                |
| symbol           | string    | Symbol Name. E.g. BTCUSDT                               |

##### responses
```json
{
    'symbol': 'BHTUSDT', 
    'clientOrderId': '0', 
    'orderId': '499890200602846976', 
    'status': 'CANCELED'
}
```

###  Trades

**Demo:**
https://github.com/exchange2021/openapidemo/blob/master/src/main/java/com/margin/Trades.java

#### Parameters
***Query***

| parameters name | data type | name                      |
| --------------- | --------- | ------------------------- |
| fromId          | integer   | Trade Id to fetch from    |
| limit           | integer   | Default 100; Max 1000     |
| symbol          | string    | Symbol Name. E.g. BTCUSDT |

***header***

| parameters name | data type | name         |
| --------------- | --------- | ------------ |
| X-CH-APIKEY     | string    | Your API-key |
| X-CH-SIGN       | string    | Sign         |
| X-CH-TS         | integer   | timestamp    |

##### responses
```json
[
  {
    "symbol": "ETHBTC",
    "id": 100211,
    "bidId": 150695552109032492,
    "askId": 150695552109032493,
    "price": "4.00000100",
    "qty": "12.00000000",
    "time": 1499865549590,
    "isBuyer": true,
    "isMaker": false,
    "feeCoin": "ETH",
    "fee":"0.001"
  },...
]
```
###  Current Open Orders
**Demo:**
https://github.com/exchange2021/openapidemo/blob/master/src/main/java/com/margin/CurrentOpenOrders.java

#### Parameters
***Query***

| parameters name | data type | name                      |
| --------------- | --------- | ------------------------- |
| limit           | integer   | Default 100; Max 1000     |
| symbol          | string    | Symbol Name. E.g. BTCUSDT |

***header***

| parameters name | data type | name         |
| --------------- | --------- | ------------ |
| X-CH-APIKEY     | string    | Your API-key |
| X-CH-SIGN       | string    | Sign         |
| X-CH-TS         | integer   | timestamp    |

##### responses
```json
[
    {
        'orderId': '499902955766523648', 
        'symbol': 'BHTUSDT', 
        'price': '0.01', 
        'origQty': '50', 
        'executedQty': '0', 
        'avgPrice': '0', 
        'status': 'NEW', 
        'type': 'LIMIT', 
        'side': 'BUY', 
        'time': '1574329076202'
        },...
]
```
###  Query Order
 **Demo:**
https://github.com/exchange2021/openapidemo/blob/master/src/main/java/com/margin/QueryOrder.java

#### Parameters
***Query***

| parameters name  | data type | name                                                    |
| ---------------- | --------- | ------------------------------------------------------- |
| newClientOrderId | string    | Unique order ID generated by users to mark their orders |
| orderId          | string    | Order ID                                                |
| symbol           | string    | Symbol Name. E.g. BTCUSDT                               |

***header***

| parameters name | data type | name         |
| --------------- | --------- | ------------ |
| X-CH-APIKEY     | string    | Your API-key |
| X-CH-SIGN       | string    | Sign         |
| X-CH-TS         | integer   | timestamp    |

##### responses
```json
{
    'orderId': '499890200602846976', 
    'clientOrderId': '157432755564968', 
    'symbol': 'BHTUSDT', 
    'price': '0.01', 
    'origQty': '50', 
    'executedQty': '0', 
    'avgPrice': '0', 
    'status': 'NEW', 
    'type': 'LIMIT', 
    'side': 'BUY', 
    'transactTime': '1574327555669'
}
```

